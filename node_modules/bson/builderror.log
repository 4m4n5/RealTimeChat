../ext/bson.cc: In member function ‘void BSONSerializer<T>::SerializeValue(void*, const v8::Handle<v8::Value>&)’:
../ext/bson.cc:203:60: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:203:60: note: (if you use ‘-fpermissive’, G++ will accept your code, but allowing the use of an undeclared name is deprecated)
../ext/bson.cc:206:44: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
    if(NanPersistentToLocal(bson->longString)->StrictEquals(constructorString))
                                            ^
../ext/bson.cc:209:71: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
     this->WriteInt32(object, NanPersistentToLocal(bson->_longLowString));
                                                                       ^
../ext/bson.cc:210:72: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
     this->WriteInt32(object, NanPersistentToLocal(bson->_longHighString));
                                                                        ^
../ext/bson.cc:212:54: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
    else if(NanPersistentToLocal(bson->timestampString)->StrictEquals(constructorString))
                                                      ^
../ext/bson.cc:215:71: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
     this->WriteInt32(object, NanPersistentToLocal(bson->_longLowString));
                                                                       ^
../ext/bson.cc:216:72: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
     this->WriteInt32(object, NanPersistentToLocal(bson->_longHighString));
                                                                        ^
../ext/bson.cc:218:53: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
    else if(NanPersistentToLocal(bson->objectIDString)->StrictEquals(constructorString))
                                                     ^
../ext/bson.cc:221:77: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
     this->WriteObjectId(object, NanPersistentToLocal(bson->_objectIDidString));
                                                                             ^
../ext/bson.cc:223:51: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
    else if(NanPersistentToLocal(bson->binaryString)->StrictEquals(constructorString))
                                                   ^
../ext/bson.cc:227:83: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
     uint32_t length = object->Get(NanPersistentToLocal(bson->_binaryPositionString))->Uint32Value();
                                                                                   ^
../ext/bson.cc:228:89: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
     Local<Object> bufferObj = object->Get(NanPersistentToLocal(bson->_binaryBufferString))->ToObject();
                                                                                         ^
../ext/bson.cc:231:76: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
     this->WriteByte(object, NanPersistentToLocal(bson->_binarySubTypeString)); // write subtype
                                                                            ^
../ext/bson.cc:233:67: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
     if(object->Get(NanPersistentToLocal(bson->_binarySubTypeString))->Int32Value() == 0x02) {
                                                                   ^
../ext/bson.cc:239:51: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
    else if(NanPersistentToLocal(bson->doubleString)->StrictEquals(constructorString))
                                                   ^
../ext/bson.cc:242:76: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
     this->WriteDouble(object, NanPersistentToLocal(bson->_doubleValueString));
                                                                            ^
../ext/bson.cc:244:51: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
    else if(NanPersistentToLocal(bson->symbolString)->StrictEquals(constructorString))
                                                   ^
../ext/bson.cc:247:94: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
     this->WriteLengthPrefixedString(object->Get(NanPersistentToLocal(bson->_symbolValueString))->ToString());
                                                                                              ^
../ext/bson.cc:249:49: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
    else if(NanPersistentToLocal(bson->codeString)->StrictEquals(constructorString))
                                                 ^
../ext/bson.cc:251:91: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
     const Local<String>& function = object->Get(NanPersistentToLocal(bson->_codeCodeString))->ToString();
                                                                                           ^
../ext/bson.cc:252:89: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
     const Local<Object>& scope = object->Get(NanPersistentToLocal(bson->_codeScopeString))->ToObject();
                                                                                         ^
../ext/bson.cc:275:50: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
    else if(NanPersistentToLocal(bson->dbrefString)->StrictEquals(constructorString))
                                                  ^
../ext/bson.cc:283:89: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
     SerializeValue(refType, object->Get(NanPersistentToLocal(bson->_dbRefNamespaceString)));
                                                                                         ^
../ext/bson.cc:287:82: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
     SerializeValue(idType, object->Get(NanPersistentToLocal(bson->_dbRefOidString)));
                                                                                  ^
../ext/bson.cc:289:91: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
     const Local<Value>& refDbValue = object->Get(NanPersistentToLocal(bson->_dbRefDbString));
                                                                                           ^
../ext/bson.cc:300:51: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
    else if(NanPersistentToLocal(bson->minKeyString)->StrictEquals(constructorString))
                                                   ^
../ext/bson.cc:304:51: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
    else if(NanPersistentToLocal(bson->maxKeyString)->StrictEquals(constructorString))
                                                   ^
../ext/bson.cc: In member function ‘v8::Handle<v8::Value> BSONDeserializer::DeserializeDocumentInternal(bool)’:
../ext/bson.cc:438:67: error: ‘NanPersistentToLocal’ was not declared in this scope
  if(returnObject->Has(NanPersistentToLocal(bson->_dbRefIdRefString)))
                                                                   ^
../ext/bson.cc: In member function ‘v8::Handle<v8::Value> BSONDeserializer::DeserializeValue(BsonType, bool)’:
../ext/bson.cc:498:58: error: ‘NanPersistentToLocal’ was not declared in this scope
    return NanPersistentToLocal(bson->timestampConstructor)->NewInstance(2, argv);
                                                          ^
../ext/bson.cc:517:53: error: ‘NanPersistentToLocal’ was not declared in this scope
    return NanPersistentToLocal(bson->codeConstructor)->NewInstance(2, argv);
                                                     ^
../ext/bson.cc:526:53: error: ‘NanPersistentToLocal’ was not declared in this scope
    return NanPersistentToLocal(bson->codeConstructor)->NewInstance(2, argv);
                                                     ^
../ext/bson.cc:532:57: error: ‘NanPersistentToLocal’ was not declared in this scope
    return NanPersistentToLocal(bson->objectIDConstructor)->NewInstance(1, argv);
                                                         ^
../ext/bson.cc:547:55: error: ‘NanPersistentToLocal’ was not declared in this scope
    return NanPersistentToLocal(bson->binaryConstructor)->NewInstance(2, argv);
                                                       ^
../ext/bson.cc:570:53: error: ‘NanPersistentToLocal’ was not declared in this scope
    return NanPersistentToLocal(bson->longConstructor)->NewInstance(2, argv);
                                                     ^
../ext/bson.cc:586:55: error: ‘NanPersistentToLocal’ was not declared in this scope
    return NanPersistentToLocal(bson->symbolConstructor)->NewInstance(1, argv);
                                                       ^
../ext/bson.cc:590:54: error: ‘NanPersistentToLocal’ was not declared in this scope
   return NanPersistentToLocal(bson->minKeyConstructor)->NewInstance();
                                                      ^
../ext/bson.cc: In constructor ‘BSON::BSON()’:
../ext/bson.cc:607:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _bsontypeString, String::New("_bsontype"));
                                   ^
../ext/bson.cc:608:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _longLowString, String::New("low_"));
                                   ^
../ext/bson.cc:609:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _longHighString, String::New("high_"));
                                   ^
../ext/bson.cc:610:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _objectIDidString, String::New("id"));
                                   ^
../ext/bson.cc:611:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _binaryPositionString, String::New("position"));
                                   ^
../ext/bson.cc:612:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _binarySubTypeString, String::New("sub_type"));
                                   ^
../ext/bson.cc:613:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _binaryBufferString, String::New("buffer"));
                                   ^
../ext/bson.cc:614:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _doubleValueString, String::New("value"));
                                   ^
../ext/bson.cc:615:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _symbolValueString, String::New("value"));
                                   ^
../ext/bson.cc:616:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _dbRefRefString, String::New("$ref"));
                                   ^
../ext/bson.cc:617:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _dbRefIdRefString, String::New("$id"));
                                   ^
../ext/bson.cc:618:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _dbRefDbRefString, String::New("$db"));
                                   ^
../ext/bson.cc:619:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _dbRefNamespaceString, String::New("namespace"));
                                   ^
../ext/bson.cc:620:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _dbRefDbString, String::New("db"));
                                   ^
../ext/bson.cc:621:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _dbRefOidString, String::New("oid"));
                                   ^
../ext/bson.cc:622:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _codeCodeString, String::New("code"));
                                   ^
../ext/bson.cc:623:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _codeScopeString, String::New("scope"));
                                   ^
../ext/bson.cc:624:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _toBSONString, String::New("toBSON"));
                                   ^
../ext/bson.cc:626:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, longString, String::New("Long"));
                                   ^
../ext/bson.cc:627:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, objectIDString, String::New("ObjectID"));
                                   ^
../ext/bson.cc:628:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, binaryString, String::New("Binary"));
                                   ^
../ext/bson.cc:629:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, codeString, String::New("Code"));
                                   ^
../ext/bson.cc:630:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, dbrefString, String::New("DBRef"));
                                   ^
../ext/bson.cc:631:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, symbolString, String::New("Symbol"));
                                   ^
../ext/bson.cc:632:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, doubleString, String::New("Double"));
                                   ^
../ext/bson.cc:633:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, timestampString, String::New("Timestamp"));
                                   ^
../ext/bson.cc:634:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, minKeyString, String::New("MinKey"));
                                   ^
../ext/bson.cc:635:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, maxKeyString, String::New("MaxKey"));
                                   ^
../ext/bson.cc: In static member function ‘static void BSON::Initialize(v8::Handle<v8::Object>)’:
../ext/bson.cc:654:38: error: expected primary-expression before ‘,’ token
  NanAssignPersistent(FunctionTemplate, constructor_template, t);
                                      ^
../ext/bson.cc: In static member function ‘static v8::Handle<v8::Value> BSON::New(const v8::Arguments&)’:
../ext/bson.cc:684:72: error: ‘NanPersistentToLocal’ was not declared in this scope
     if(functionName->StrictEquals(NanPersistentToLocal(bson->longString))) {
                                                                        ^
../ext/bson.cc:685:34: error: expected primary-expression before ‘,’ token
      NanAssignPersistent(Function, bson->longConstructor, func);
                                  ^
../ext/bson.cc:688:34: error: expected primary-expression before ‘,’ token
      NanAssignPersistent(Function, bson->objectIDConstructor, func);
                                  ^
../ext/bson.cc:691:34: error: expected primary-expression before ‘,’ token
      NanAssignPersistent(Function, bson->binaryConstructor, func);
                                  ^
../ext/bson.cc:694:34: error: expected primary-expression before ‘,’ token
      NanAssignPersistent(Function, bson->codeConstructor, func);
                                  ^
../ext/bson.cc:697:34: error: expected primary-expression before ‘,’ token
      NanAssignPersistent(Function, bson->dbrefConstructor, func);
                                  ^
../ext/bson.cc:700:34: error: expected primary-expression before ‘,’ token
      NanAssignPersistent(Function, bson->symbolConstructor, func);
                                  ^
../ext/bson.cc:703:34: error: expected primary-expression before ‘,’ token
      NanAssignPersistent(Function, bson->doubleConstructor, func);
                                  ^
../ext/bson.cc:706:34: error: expected primary-expression before ‘,’ token
      NanAssignPersistent(Function, bson->timestampConstructor, func);
                                  ^
../ext/bson.cc:709:34: error: expected primary-expression before ‘,’ token
      NanAssignPersistent(Function, bson->minKeyConstructor, func);
                                  ^
../ext/bson.cc:712:34: error: expected primary-expression before ‘,’ token
      NanAssignPersistent(Function, bson->maxKeyConstructor, func);
                                  ^
../ext/bson.cc: In member function ‘v8::Local<v8::Object> BSON::GetSerializeObject(const v8::Handle<v8::Value>&)’:
../ext/bson.cc:831:51: error: ‘NanPersistentToLocal’ was not declared in this scope
  if(object->Has(NanPersistentToLocal(_toBSONString)))
                                                   ^
../ext/bson.cc: In instantiation of ‘void BSONSerializer<T>::SerializeValue(void*, const v8::Handle<v8::Value>&) [with T = CountStream]’:
../ext/bson.cc:116:46:   required from ‘void BSONSerializer<T>::SerializeDocument(const v8::Handle<v8::Value>&) [with T = CountStream]’
../ext/bson.cc:873:35:   required from here
../ext/bson.cc:203:60: error: ‘NanPersistentToLocal’ was not declared in this scope
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:206:44: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    if(NanPersistentToLocal(bson->longString)->StrictEquals(constructorString))
                                            ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:209:71: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     this->WriteInt32(object, NanPersistentToLocal(bson->_longLowString));
                                                                       ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:210:72: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     this->WriteInt32(object, NanPersistentToLocal(bson->_longHighString));
                                                                        ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:212:54: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->timestampString)->StrictEquals(constructorString))
                                                      ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:215:71: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     this->WriteInt32(object, NanPersistentToLocal(bson->_longLowString));
                                                                       ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:216:72: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     this->WriteInt32(object, NanPersistentToLocal(bson->_longHighString));
                                                                        ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:218:53: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->objectIDString)->StrictEquals(constructorString))
                                                     ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:221:77: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     this->WriteObjectId(object, NanPersistentToLocal(bson->_objectIDidString));
                                                                             ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:223:51: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->binaryString)->StrictEquals(constructorString))
                                                   ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:227:83: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     uint32_t length = object->Get(NanPersistentToLocal(bson->_binaryPositionString))->Uint32Value();
                                                                                   ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:228:89: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     Local<Object> bufferObj = object->Get(NanPersistentToLocal(bson->_binaryBufferString))->ToObject();
                                                                                         ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:231:76: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     this->WriteByte(object, NanPersistentToLocal(bson->_binarySubTypeString)); // write subtype
                                                                            ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:233:67: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     if(object->Get(NanPersistentToLocal(bson->_binarySubTypeString))->Int32Value() == 0x02) {
                                                                   ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:239:51: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->doubleString)->StrictEquals(constructorString))
                                                   ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:242:76: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     this->WriteDouble(object, NanPersistentToLocal(bson->_doubleValueString));
                                                                            ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:244:51: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->symbolString)->StrictEquals(constructorString))
                                                   ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:247:94: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     this->WriteLengthPrefixedString(object->Get(NanPersistentToLocal(bson->_symbolValueString))->ToString());
                                                                                              ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:249:49: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->codeString)->StrictEquals(constructorString))
                                                 ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:251:91: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     const Local<String>& function = object->Get(NanPersistentToLocal(bson->_codeCodeString))->ToString();
                                                                                           ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:252:89: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     const Local<Object>& scope = object->Get(NanPersistentToLocal(bson->_codeScopeString))->ToObject();
                                                                                         ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:275:50: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->dbrefString)->StrictEquals(constructorString))
                                                  ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:283:89: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     SerializeValue(refType, object->Get(NanPersistentToLocal(bson->_dbRefNamespaceString)));
                                                                                         ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:287:82: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     SerializeValue(idType, object->Get(NanPersistentToLocal(bson->_dbRefOidString)));
                                                                                  ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:289:91: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     const Local<Value>& refDbValue = object->Get(NanPersistentToLocal(bson->_dbRefDbString));
                                                                                           ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:300:51: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->minKeyString)->StrictEquals(constructorString))
                                                   ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:304:51: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->maxKeyString)->StrictEquals(constructorString))
                                                   ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc: In instantiation of ‘void BSONSerializer<T>::SerializeValue(void*, const v8::Handle<v8::Value>&) [with T = DataStream]’:
../ext/bson.cc:116:46:   required from ‘void BSONSerializer<T>::SerializeDocument(const v8::Handle<v8::Value>&) [with T = DataStream]’
../ext/bson.cc:882:32:   required from here
../ext/bson.cc:203:60: error: ‘NanPersistentToLocal’ was not declared in this scope
../ext/bson.cc:206:44: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    if(NanPersistentToLocal(bson->longString)->StrictEquals(constructorString))
                                            ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:209:71: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     this->WriteInt32(object, NanPersistentToLocal(bson->_longLowString));
                                                                       ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:210:72: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     this->WriteInt32(object, NanPersistentToLocal(bson->_longHighString));
                                                                        ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:212:54: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->timestampString)->StrictEquals(constructorString))
                                                      ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:215:71: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     this->WriteInt32(object, NanPersistentToLocal(bson->_longLowString));
                                                                       ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:216:72: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     this->WriteInt32(object, NanPersistentToLocal(bson->_longHighString));
                                                                        ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:218:53: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->objectIDString)->StrictEquals(constructorString))
                                                     ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:221:77: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     this->WriteObjectId(object, NanPersistentToLocal(bson->_objectIDidString));
                                                                             ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:223:51: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->binaryString)->StrictEquals(constructorString))
                                                   ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:227:83: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     uint32_t length = object->Get(NanPersistentToLocal(bson->_binaryPositionString))->Uint32Value();
                                                                                   ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:228:89: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     Local<Object> bufferObj = object->Get(NanPersistentToLocal(bson->_binaryBufferString))->ToObject();
                                                                                         ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:231:76: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     this->WriteByte(object, NanPersistentToLocal(bson->_binarySubTypeString)); // write subtype
                                                                            ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:233:67: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     if(object->Get(NanPersistentToLocal(bson->_binarySubTypeString))->Int32Value() == 0x02) {
                                                                   ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:239:51: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->doubleString)->StrictEquals(constructorString))
                                                   ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:242:76: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     this->WriteDouble(object, NanPersistentToLocal(bson->_doubleValueString));
                                                                            ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:244:51: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->symbolString)->StrictEquals(constructorString))
                                                   ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:247:94: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     this->WriteLengthPrefixedString(object->Get(NanPersistentToLocal(bson->_symbolValueString))->ToString());
                                                                                              ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:249:49: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->codeString)->StrictEquals(constructorString))
                                                 ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:251:91: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     const Local<String>& function = object->Get(NanPersistentToLocal(bson->_codeCodeString))->ToString();
                                                                                           ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:252:89: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     const Local<Object>& scope = object->Get(NanPersistentToLocal(bson->_codeScopeString))->ToObject();
                                                                                         ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:275:50: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->dbrefString)->StrictEquals(constructorString))
                                                  ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:283:89: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     SerializeValue(refType, object->Get(NanPersistentToLocal(bson->_dbRefNamespaceString)));
                                                                                         ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:287:82: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     SerializeValue(idType, object->Get(NanPersistentToLocal(bson->_dbRefOidString)));
                                                                                  ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:289:91: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     const Local<Value>& refDbValue = object->Get(NanPersistentToLocal(bson->_dbRefDbString));
                                                                                           ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:300:51: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->minKeyString)->StrictEquals(constructorString))
                                                   ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:304:51: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->maxKeyString)->StrictEquals(constructorString))
                                                   ^
../ext/bson.cc:203:60: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc: In member function ‘v8::Handle<v8::Value> BSONDeserializer::DeserializeDocumentInternal(bool)’:
../ext/bson.cc:447:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
../ext/bson.cc: In member function ‘v8::Local<v8::Object> BSON::GetSerializeObject(const v8::Handle<v8::Value>&)’:
../ext/bson.cc:844:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
make: *** [Release/obj.target/bson/ext/bson.o] Error 1
gyp ERR! build error 
gyp ERR! stack Error: `make` failed with exit code: 2
gyp ERR! stack     at ChildProcess.onExit (/usr/lib/node_modules/npm/node_modules/node-gyp/lib/build.js:267:23)
gyp ERR! stack     at ChildProcess.emit (events.js:98:17)
gyp ERR! stack     at Process.ChildProcess._handle.onexit (child_process.js:810:12)
gyp ERR! System Linux 3.13.0-44-generic
gyp ERR! command "node" "/usr/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /home/aman/Desktop/codes/ChatLulz/node_modules/bson
gyp ERR! node -v v0.10.33
gyp ERR! node-gyp -v v1.0.1
gyp ERR! not ok 
